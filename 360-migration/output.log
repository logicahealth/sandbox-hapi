
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.1.RELEASE)

2019-02-20 16:57:43.031  INFO 21400 --- [           main] a.HSPCReferenceApiMultitenantApplication : Starting HSPCReferenceApiMultitenantApplication v2.3.5-SNAPSHOT on Jacobs-MacBook-Pro.local with PID 21400 (/Users/jacobcrump/HSPC_projects/reference-api/reference-api-webapp/target/hspc-reference-api-webapp-2.3.5-SNAPSHOT.jar started by jacobcrump in /Users/jacobcrump/HSPC_projects/reference-api/360-migration)
2019-02-20 16:57:43.034  INFO 21400 --- [           main] a.HSPCReferenceApiMultitenantApplication : The following profiles are active: stu3,multitenant
2019-02-20 16:57:44.988  INFO 21400 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-02-20 16:57:45.244  INFO 21400 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 242ms. Found 32 repository interfaces.
2019-02-20 16:57:46.770  INFO 21400 --- [           main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2019-02-20 16:57:46.888  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource configurationProperties [org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource] to AOP Proxy
2019-02-20 16:57:46.888  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletConfigInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper
2019-02-20 16:57:46.888  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.core.env.PropertySource$StubPropertySource] to EncryptablePropertySourceWrapper
2019-02-20 16:57:46.889  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper
2019-02-20 16:57:46.889  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableMapPropertySourceWrapper
2019-02-20 16:57:46.889  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2019-02-20 16:57:46.889  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] (document #2) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2019-02-20 16:57:46.889  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource applicationConfig: [classpath:/application.yml] (document #0) [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2019-02-20 16:57:46.889  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource class path resource [config/multitenant-mysql.properties] [org.springframework.core.io.support.ResourcePropertySource] to EncryptableMapPropertySourceWrapper
2019-02-20 16:57:46.889  INFO 21400 --- [           main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource class path resource [config/mysql.properties] [org.springframework.core.env.CompositePropertySource] to EncryptableEnumerablePropertySourceWrapper
2019-02-20 16:57:47.138  INFO 21400 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6105d4be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-20 16:57:47.174  INFO 21400 --- [           main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2019-02-20 16:57:47.177  INFO 21400 --- [           main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2019-02-20 16:57:47.182  INFO 21400 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'metadataRepositoryConfig' of type [org.hspconsortium.platform.api.fhir.repository.MetadataRepositoryConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-20 16:57:47.188  INFO 21400 --- [           main] o.h.p.a.s.TenantInfoRequestMatcher       : Configuring TenantInfoRequestMatcher
2019-02-20 16:57:47.192  INFO 21400 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'tenantInfoRequestMatcher' of type [org.hspconsortium.platform.api.security.TenantInfoRequestMatcher] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-20 16:57:47.193  INFO 21400 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'multitenantOAuth2ResourceConfig' of type [org.hspconsortium.platform.api.security.MultitenantOAuth2ResourceConfig$$EnhancerBySpringCGLIB$$c4904400] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-20 16:57:47.715  INFO 21400 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8076 (http)
2019-02-20 16:57:47.747  INFO 21400 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-02-20 16:57:47.748  INFO 21400 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2019-02-20 16:57:47.763  INFO 21400 --- [           main] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/jacobcrump/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-20 16:57:47.887  INFO 21400 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-02-20 16:57:47.888  INFO 21400 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4650 ms
2019-02-20 16:57:48.715  INFO 21400 --- [           main] o.h.p.api.fhir.config.MySQLConfig        : loadIndexFiles()
Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.
2019-02-20 16:57:49.647  INFO 21400 --- [           main] o.h.p.api.fhir.config.MySQLConfig        : loadIndexFiles()
2019-02-20 16:57:49.703  INFO 21400 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2019-02-20 16:57:50.115  INFO 21400 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.4.1.Final}
2019-02-20 16:57:50.480  INFO 21400 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2019-02-20 16:57:51.289  INFO 21400 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-02-20 16:57:52.250  INFO 21400 --- [           main] org.hibernate.search.engine.Version      : HSEARCH000034: Hibernate Search 5.11.1.Final
2019-02-20 16:57:53.319  INFO 21400 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-02-20 16:57:54.280  INFO 21400 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-02-20 16:57:54.320  INFO 21400 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2019-02-20 16:57:55.045  INFO 21400 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-02-20 16:57:55.296  INFO 21400 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2019-02-20 16:57:55.405  INFO 21400 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-02-20 16:57:55.513  INFO 21400 --- [           main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version 3.7.0 - Rev f2560071c8
2019-02-20 16:57:55.683  INFO 21400 --- [           main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [DSTU3]
2019-02-20 16:57:59.380  INFO 21400 --- [           main] o.h.p.api.fhir.DataSourceRepository      : Tenant 'TwoUsers' maps to 'jdbc:mysql://localhost:3306/hspc_5_TwoUsers' database url.
2019-02-20 16:58:01.481  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Registration of provider [ca.uhn.fhir.jpa.provider.dstu3.TerminologyUploaderProviderDstu3] will be delayed until FHIR server startup
2019-02-20 16:58:01.481  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Initializing HAPI FHIR restful server running in DSTU3 mode
2019-02-20 16:58:01.483  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Added 117 resource provider(s). Total 117
2019-02-20 16:58:01.483  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.AccountResourceProvider
2019-02-20 16:58:01.554  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ActivityDefinitionResourceProvider
2019-02-20 16:58:01.556  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.AdverseEventResourceProvider
2019-02-20 16:58:01.559  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.AllergyIntoleranceResourceProvider
2019-02-20 16:58:01.563  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.AppointmentResourceProvider
2019-02-20 16:58:01.566  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.AppointmentResponseResourceProvider
2019-02-20 16:58:01.569  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.AuditEventResourceProvider
2019-02-20 16:58:01.573  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.BasicResourceProvider
2019-02-20 16:58:01.576  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.BinaryResourceProvider
2019-02-20 16:58:01.578  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.BodySiteResourceProvider
2019-02-20 16:58:01.580  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.BundleResourceProvider
2019-02-20 16:58:01.582  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CapabilityStatementResourceProvider
2019-02-20 16:58:01.590  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CarePlanResourceProvider
2019-02-20 16:58:01.597  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CareTeamResourceProvider
2019-02-20 16:58:01.604  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ChargeItemResourceProvider
2019-02-20 16:58:01.612  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ClaimResourceProvider
2019-02-20 16:58:01.620  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ClaimResponseResourceProvider
2019-02-20 16:58:01.629  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ClinicalImpressionResourceProvider
2019-02-20 16:58:01.635  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CodeSystemResourceProvider
2019-02-20 16:58:01.640  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CommunicationResourceProvider
2019-02-20 16:58:01.644  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CommunicationRequestResourceProvider
2019-02-20 16:58:01.652  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CompartmentDefinitionResourceProvider
2019-02-20 16:58:01.659  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CompositionResourceProvider
2019-02-20 16:58:01.663  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ConceptMapResourceProvider
2019-02-20 16:58:01.675  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ConditionResourceProvider
2019-02-20 16:58:01.680  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ConsentResourceProvider
2019-02-20 16:58:01.687  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ContractResourceProvider
2019-02-20 16:58:01.691  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.CoverageResourceProvider
2019-02-20 16:58:01.700  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DataElementResourceProvider
2019-02-20 16:58:01.706  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DetectedIssueResourceProvider
2019-02-20 16:58:01.710  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DeviceResourceProvider
2019-02-20 16:58:01.717  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DeviceComponentResourceProvider
2019-02-20 16:58:01.723  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DeviceMetricResourceProvider
2019-02-20 16:58:01.730  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DeviceRequestResourceProvider
2019-02-20 16:58:01.732  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DeviceUseStatementResourceProvider
2019-02-20 16:58:01.735  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DiagnosticReportResourceProvider
2019-02-20 16:58:01.744  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DocumentManifestResourceProvider
2019-02-20 16:58:01.749  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.DocumentReferenceResourceProvider
2019-02-20 16:58:01.761  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.EligibilityRequestResourceProvider
2019-02-20 16:58:01.765  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.EligibilityResponseResourceProvider
2019-02-20 16:58:01.767  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.EncounterResourceProvider
2019-02-20 16:58:01.769  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.EndpointResourceProvider
2019-02-20 16:58:01.771  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.EnrollmentRequestResourceProvider
2019-02-20 16:58:01.773  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.EnrollmentResponseResourceProvider
2019-02-20 16:58:01.775  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.EpisodeOfCareResourceProvider
2019-02-20 16:58:01.778  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ExpansionProfileResourceProvider
2019-02-20 16:58:01.780  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ExplanationOfBenefitResourceProvider
2019-02-20 16:58:01.782  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.FamilyMemberHistoryResourceProvider
2019-02-20 16:58:01.784  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.FlagResourceProvider
2019-02-20 16:58:01.785  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.GoalResourceProvider
2019-02-20 16:58:01.787  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.GraphDefinitionResourceProvider
2019-02-20 16:58:01.789  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.GroupResourceProvider
2019-02-20 16:58:01.791  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.GuidanceResponseResourceProvider
2019-02-20 16:58:01.793  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.HealthcareServiceResourceProvider
2019-02-20 16:58:01.795  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ImagingManifestResourceProvider
2019-02-20 16:58:01.796  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ImagingStudyResourceProvider
2019-02-20 16:58:01.798  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ImmunizationResourceProvider
2019-02-20 16:58:01.800  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ImmunizationRecommendationResourceProvider
2019-02-20 16:58:01.802  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ImplementationGuideResourceProvider
2019-02-20 16:58:01.804  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.LibraryResourceProvider
2019-02-20 16:58:01.806  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.LinkageResourceProvider
2019-02-20 16:58:01.808  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ListResourceResourceProvider
2019-02-20 16:58:01.810  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.LocationResourceProvider
2019-02-20 16:58:01.812  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MeasureResourceProvider
2019-02-20 16:58:01.813  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MeasureReportResourceProvider
2019-02-20 16:58:01.815  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MediaResourceProvider
2019-02-20 16:58:01.816  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MedicationResourceProvider
2019-02-20 16:58:01.818  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MedicationAdministrationResourceProvider
2019-02-20 16:58:01.820  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MedicationDispenseResourceProvider
2019-02-20 16:58:01.823  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MedicationRequestResourceProvider
2019-02-20 16:58:01.824  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MedicationStatementResourceProvider
2019-02-20 16:58:01.826  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MessageDefinitionResourceProvider
2019-02-20 16:58:01.829  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.MessageHeaderResourceProvider
2019-02-20 16:58:01.833  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.NamingSystemResourceProvider
2019-02-20 16:58:01.835  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.NutritionOrderResourceProvider
2019-02-20 16:58:01.838  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ObservationResourceProvider
2019-02-20 16:58:01.842  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.OperationDefinitionResourceProvider
2019-02-20 16:58:01.845  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.OperationOutcomeResourceProvider
2019-02-20 16:58:01.846  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.OrganizationResourceProvider
2019-02-20 16:58:01.848  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ParametersResourceProvider
2019-02-20 16:58:01.851  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.PatientResourceProvider
2019-02-20 16:58:01.855  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.PaymentNoticeResourceProvider
2019-02-20 16:58:01.859  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.PaymentReconciliationResourceProvider
2019-02-20 16:58:01.863  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.PersonResourceProvider
2019-02-20 16:58:01.866  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.PlanDefinitionResourceProvider
2019-02-20 16:58:01.868  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.PractitionerResourceProvider
2019-02-20 16:58:01.870  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.PractitionerRoleResourceProvider
2019-02-20 16:58:01.873  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ProcedureResourceProvider
2019-02-20 16:58:01.881  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ProcedureRequestResourceProvider
2019-02-20 16:58:01.883  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ProcessRequestResourceProvider
2019-02-20 16:58:01.885  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ProcessResponseResourceProvider
2019-02-20 16:58:01.886  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ProvenanceResourceProvider
2019-02-20 16:58:01.889  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.QuestionnaireResourceProvider
2019-02-20 16:58:01.891  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.QuestionnaireResponseResourceProvider
2019-02-20 16:58:01.892  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ReferralRequestResourceProvider
2019-02-20 16:58:01.894  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.RelatedPersonResourceProvider
2019-02-20 16:58:01.895  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.RequestGroupResourceProvider
2019-02-20 16:58:01.897  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ResearchStudyResourceProvider
2019-02-20 16:58:01.898  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ResearchSubjectResourceProvider
2019-02-20 16:58:01.900  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.RiskAssessmentResourceProvider
2019-02-20 16:58:01.901  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ScheduleResourceProvider
2019-02-20 16:58:01.902  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.SearchParameterResourceProvider
2019-02-20 16:58:01.904  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.SequenceResourceProvider
2019-02-20 16:58:01.905  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ServiceDefinitionResourceProvider
2019-02-20 16:58:01.907  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.SlotResourceProvider
2019-02-20 16:58:01.908  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.SpecimenResourceProvider
2019-02-20 16:58:01.909  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.StructureDefinitionResourceProvider
2019-02-20 16:58:01.911  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.StructureMapResourceProvider
2019-02-20 16:58:01.912  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.SubscriptionResourceProvider
2019-02-20 16:58:01.913  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.SubstanceResourceProvider
2019-02-20 16:58:01.915  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.SupplyDeliveryResourceProvider
2019-02-20 16:58:01.916  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.SupplyRequestResourceProvider
2019-02-20 16:58:01.917  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.TaskResourceProvider
2019-02-20 16:58:01.919  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.TestReportResourceProvider
2019-02-20 16:58:01.920  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.TestScriptResourceProvider
2019-02-20 16:58:01.922  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.ValueSetResourceProvider
2019-02-20 16:58:01.923  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.rp.dstu3.VisionPrescriptionResourceProvider
2019-02-20 16:58:01.925  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Added 2 plain provider(s). Total 2
2019-02-20 16:58:01.925  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.provider.dstu3.JpaSystemProviderDstu3
2019-02-20 16:58:01.928  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.jpa.provider.dstu3.TerminologyUploaderProviderDstu3
2019-02-20 16:58:01.931  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class org.hl7.fhir.dstu3.hapi.rest.server.ServerProfileProvider
2019-02-20 16:58:01.931  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class org.hspconsortium.platform.api.conformance.HspcConformanceProviderStu3
2019-02-20 16:58:01.944  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : Scanning type for RESTful methods: class ca.uhn.fhir.rest.server.PageProvider
2019-02-20 16:58:01.945  INFO 21400 --- [           main] ca.uhn.fhir.rest.server.RestfulServer    : A FHIR has been lit on this server
2019-02-20 16:58:02.018  INFO 21400 --- [           main] o.s.s.c.ScheduledExecutorFactoryBean     : Initializing ExecutorService
2019-02-20 16:58:02.020  INFO 21400 --- [           main] o.s.s.c.ScheduledExecutorFactoryBean     : Initializing ExecutorService 'scheduledExecutorService'
2019-02-20 16:58:02.311  INFO 21400 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 82c95922-2775-41a5-bd37-8e21c410a602

2019-02-20 16:58:02.858  INFO 21400 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.hspconsortium.platform.api.oauth2.InvalidMediaTypeFilter@21325036, org.hspconsortium.platform.api.oauth2.CorsFilter@489543a6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16c9e378, org.springframework.security.web.context.SecurityContextPersistenceFilter@471a9e8c, org.springframework.security.web.header.HeaderWriterFilter@10b3ea72, org.springframework.security.web.authentication.logout.LogoutFilter@6ad198c9, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2a60981c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cb773c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@446cc036, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d3815f7, org.springframework.security.web.session.SessionManagementFilter@618fb1, org.springframework.security.web.access.ExceptionTranslationFilter@32cec678, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@67823972]
2019-02-20 16:58:03.169  WARN 21400 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-02-20 16:58:03.348  WARN 21400 --- [           main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2019-02-20 16:58:03.964  INFO 21400 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-20 16:58:04.241  INFO 21400 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8076 (http) with context path ''
2019-02-20 16:58:04.245  INFO 21400 --- [           main] a.HSPCReferenceApiMultitenantApplication : Started HSPCReferenceApiMultitenantApplication in 37.088 seconds (JVM running for 37.882)
2019-02-20 16:58:04.574  INFO 21400 --- [ecutorService-2] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 389ms
2019-02-20 16:58:26.515  INFO 21400 --- [nio-8076-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-02-20 16:58:26.515  INFO 21400 --- [nio-8076-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-02-20 16:58:26.529  INFO 21400 --- [nio-8076-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2019-02-20 16:58:26.754  INFO 21400 --- [nio-8076-exec-1] o.h.p.a.s.TenantInfoRequestMatcher       : Evaluating TenantInfoRequestMatcher...
2019-02-20 16:58:26.774  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_MasterStu3Smart
2019-02-20 16:58:26.822  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@187608a8[tenantId=MasterStu3Smart,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.823  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_hspc6
2019-02-20 16:58:26.826  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@75b99609[tenantId=hspc6,hspcSchemaVersion=5,allowOpenEndpoint=true,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.827  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_blah
2019-02-20 16:58:26.829  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@768186bf[tenantId=blah,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.830  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_hspc5
2019-02-20 16:58:26.832  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@2ba5d03[tenantId=hspc5,hspcSchemaVersion=5,allowOpenEndpoint=true,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.834  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_postreindexing
2019-02-20 16:58:26.837  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@4345d67a[tenantId=empty,hspcSchemaVersion=5,allowOpenEndpoint=true,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.839  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_hspc7
2019-02-20 16:58:26.840  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@30f0ed3d[tenantId=hspc7,hspcSchemaVersion=5,allowOpenEndpoint=true,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.841  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_MasterDstu2Empty
2019-02-20 16:58:26.844  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@15629b4[tenantId=MasterDstu2Empty,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.846  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_MasterDstu2Smart
2019-02-20 16:58:26.847  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@75de551a[tenantId=MasterDstu2Smart,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.848  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_MasterR4Smart
2019-02-20 16:58:26.849  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@61a828af[tenantId=MasterR4Smart,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.850  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_4Smart
2019-02-20 16:58:26.851  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@6db8cad2[tenantId=4Smart,hspcSchemaVersion=5,allowOpenEndpoint=true,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.852  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_MasterStu3Empty
2019-02-20 16:58:26.854  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@1096e252[tenantId=MasterStu3Empty,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.855  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_blah5
2019-02-20 16:58:26.855  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@72adf551[tenantId=blah5,hspcSchemaVersion=5,allowOpenEndpoint=true,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.857  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_stu3
2019-02-20 16:58:26.858  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@15758838[tenantId=stu3,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.859  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_mydstu2
2019-02-20 16:58:26.860  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@210a56f0[tenantId=mydstu2,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.861  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_blah3
2019-02-20 16:58:26.864  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@58a909[tenantId=blah3,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.866  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_MasterR4Empty
2019-02-20 16:58:26.867  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@4d53fc49[tenantId=MasterR4Empty,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.868  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_blah2
2019-02-20 16:58:26.869  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@5fcea7b3[tenantId=blah2,hspcSchemaVersion=5,allowOpenEndpoint=false,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.870  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_TwoUsers
2019-02-20 16:58:26.870  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@d6e22c1[tenantId=TwoUsers,hspcSchemaVersion=5,allowOpenEndpoint=true,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:26.938  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Retrieving tenant info for: hspc_5_TwoUsers
2019-02-20 16:58:26.939  INFO 21400 --- [nio-8076-exec-1] o.h.platform.api.fhir.DatabaseManager    : Returning tenant info: org.hspconsortium.platform.api.fhir.model.TenantInfo@1f0cf81c[tenantId=TwoUsers,hspcSchemaVersion=5,allowOpenEndpoint=true,baselineDate=<null>,properties=<null>]
2019-02-20 16:58:27.011  INFO 21400 --- [nio-8076-exec-1] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Marking all resources of type (any) for reindexing - Got job ID[1]
2019-02-20 16:58:34.309  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Running 1 reindex jobs: [ResourceReindexJobEntity[id=1,resourceType=<null>,thresholdLow=<null>,thresholdHigh=2019-02-20 17:03:26.951]]
2019-02-20 16:58:34.312  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Performing reindex pass for JOB[1]
2019-02-20 16:58:34.316  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 4ms
2019-02-20 16:58:34.401  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Loaded 16677 resources for reindexing in 84ms
2019-02-20 16:58:34.454  INFO 21400 --- [sourceReindex-8] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [DSTU3]
2019-02-20 16:58:34.645  INFO 21400 --- [sourceReindex-4] ca.uhn.fhir.util.XmlUtil                 : FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.1'
2019-02-20 16:58:34.645  INFO 21400 --- [sourceReindex-1] ca.uhn.fhir.util.XmlUtil                 : FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.1'
2019-02-20 16:58:34.645  INFO 21400 --- [sourceReindex-8] ca.uhn.fhir.util.XmlUtil                 : FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.1'
2019-02-20 16:58:34.645  INFO 21400 --- [sourceReindex-5] ca.uhn.fhir.util.XmlUtil                 : FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.1'
2019-02-20 16:58:34.645  INFO 21400 --- [sourceReindex-7] ca.uhn.fhir.util.XmlUtil                 : FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.1'
2019-02-20 16:58:34.645  INFO 21400 --- [sourceReindex-3] ca.uhn.fhir.util.XmlUtil                 : FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.1'
2019-02-20 16:58:34.645  INFO 21400 --- [sourceReindex-2] ca.uhn.fhir.util.XmlUtil                 : FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.1'
2019-02-20 16:58:34.645  INFO 21400 --- [sourceReindex-6] ca.uhn.fhir.util.XmlUtil                 : FHIR XML procesing will use StAX implementation 'Woodstox XML-processor' version '4.4.1'
2019-02-20 16:58:34.769  INFO 21400 --- [sourceReindex-2] .f.d.h.v.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/dstu3/model/profile/profiles-resources.xml
2019-02-20 16:58:35.638  INFO 21400 --- [sourceReindex-2] .f.d.h.v.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/dstu3/model/profile/profiles-types.xml
2019-02-20 16:58:35.729  INFO 21400 --- [sourceReindex-2] .f.d.h.v.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/dstu3/model/profile/profiles-others.xml
2019-02-20 16:58:35.930  INFO 21400 --- [sourceReindex-2] .f.d.h.v.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/dstu3/model/extension/extension-definitions.xml
2019-02-20 17:01:18.464  WARN 21400 --- [sourceReindex-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1053, SQLState: 08S01
2019-02-20 17:01:18.464  WARN 21400 --- [sourceReindex-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1053, SQLState: 08S01
2019-02-20 17:01:18.464  WARN 21400 --- [sourceReindex-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1053, SQLState: 08S01
2019-02-20 17:01:18.464 ERROR 21400 --- [sourceReindex-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Server shutdown in progress
2019-02-20 17:01:18.464 ERROR 21400 --- [sourceReindex-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Server shutdown in progress
2019-02-20 17:01:18.464 ERROR 21400 --- [sourceReindex-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Server shutdown in progress
2019-02-20 17:01:18.471  INFO 21400 --- [sourceReindex-6] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2019-02-20 17:01:18.471  INFO 21400 --- [sourceReindex-3] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2019-02-20 17:01:18.472 ERROR 21400 --- [sourceReindex-3] o.h.e.jdbc.batch.internal.BatchingBatch  : HHH000315: Exception executing batch [java.sql.SQLException: No operations allowed after statement closed.], SQL: update HFJ_SPIDX_STRING set SP_MISSING=?, SP_NAME=?, RES_ID=?, RES_TYPE=?, SP_UPDATED=?, HASH_EXACT=?, HASH_IDENTITY=?, HASH_NORM_PREFIX=?, SP_VALUE_EXACT=?, SP_VALUE_NORMALIZED=? where SP_ID=?
2019-02-20 17:01:18.472 ERROR 21400 --- [sourceReindex-6] o.h.e.jdbc.batch.internal.BatchingBatch  : HHH000315: Exception executing batch [java.sql.SQLException: No operations allowed after statement closed.], SQL: delete from HFJ_SPIDX_STRING where SP_ID=?
2019-02-20 17:01:18.472  WARN 21400 --- [sourceReindex-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S1009
2019-02-20 17:01:18.472  WARN 21400 --- [sourceReindex-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S1009
2019-02-20 17:01:18.472 ERROR 21400 --- [sourceReindex-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : No operations allowed after statement closed.
2019-02-20 17:01:18.472 ERROR 21400 --- [sourceReindex-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : No operations allowed after statement closed.
2019-02-20 17:01:18.473 ERROR 21400 --- [sourceReindex-3] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.GenericJDBCException: could not execute batch]
2019-02-20 17:01:18.473 ERROR 21400 --- [sourceReindex-6] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.GenericJDBCException: could not execute batch]
2019-02-20 17:01:18.476  WARN 21400 --- [sourceReindex-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1053, SQLState: 08S01
2019-02-20 17:01:18.476 ERROR 21400 --- [sourceReindex-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Server shutdown in progress
2019-02-20 17:01:18.485 ERROR 21400 --- [sourceReindex-5] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Failed to index resource Observation/SMART-Observation-522-bmi/_history/1: org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet

org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:275) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:250) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.dao.dstu3.FhirResourceDaoDstu3$$EnhancerBySpringCGLIB$$9205821c.reindex(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.doReindex(ResourceReindexingSvcImpl.java:462) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.lambda$call$0(ResourceReindexingSvcImpl.java:501) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:419) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:191) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:691) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2286) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:585) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:263) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:581) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:148) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:303) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at java.util.AbstractCollection.addAll(AbstractCollection.java:343) ~[na:1.8.0_171]
	at ca.uhn.fhir.jpa.searchparam.extractor.ResourceIndexedSearchParams.<init>(ResourceIndexedSearchParams.java:60) ~[hapi-fhir-jpaserver-searchparam-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirDao.updateEntity(BaseHapiFhirDao.java:1286) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao.reindex(BaseHapiFhirResourceDao.java:1012) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao$$FastClassBySpringCGLIB$$5578fb67.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 15 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Server shutdown in progress
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor135.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy255.executeQuery(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 37 common frames omitted

2019-02-20 17:01:18.486 ERROR 21400 --- [sourceReindex-7] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Failed to index resource Observation/SMART-Observation-522-oxygensaturation/_history/1: org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet

org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:275) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:250) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.dao.dstu3.FhirResourceDaoDstu3$$EnhancerBySpringCGLIB$$9205821c.reindex(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.doReindex(ResourceReindexingSvcImpl.java:462) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.lambda$call$0(ResourceReindexingSvcImpl.java:501) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:419) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:191) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:691) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2286) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:585) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:263) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:581) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:148) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.PersistentBag.toArray(PersistentBag.java:309) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at java.util.ArrayList.addAll(ArrayList.java:581) ~[na:1.8.0_171]
	at ca.uhn.fhir.jpa.searchparam.extractor.ResourceIndexedSearchParams.<init>(ResourceIndexedSearchParams.java:57) ~[hapi-fhir-jpaserver-searchparam-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirDao.updateEntity(BaseHapiFhirDao.java:1286) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao.reindex(BaseHapiFhirResourceDao.java:1012) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao$$FastClassBySpringCGLIB$$5578fb67.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 15 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Server shutdown in progress
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor135.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy255.executeQuery(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 37 common frames omitted

2019-02-20 17:01:18.489 ERROR 21400 --- [sourceReindex-2] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Failed to index resource Observation/SMART-Observation-522-respiratoryrate/_history/1: org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet

org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:275) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:250) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.dao.dstu3.FhirResourceDaoDstu3$$EnhancerBySpringCGLIB$$9205821c.reindex(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.doReindex(ResourceReindexingSvcImpl.java:462) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.lambda$call$0(ResourceReindexingSvcImpl.java:501) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:419) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:191) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:691) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2286) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:585) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:263) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:581) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:148) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.PersistentBag.toArray(PersistentBag.java:309) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at java.util.ArrayList.addAll(ArrayList.java:581) ~[na:1.8.0_171]
	at ca.uhn.fhir.jpa.searchparam.extractor.ResourceIndexedSearchParams.<init>(ResourceIndexedSearchParams.java:57) ~[hapi-fhir-jpaserver-searchparam-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirDao.updateEntity(BaseHapiFhirDao.java:1286) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao.reindex(BaseHapiFhirResourceDao.java:1012) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao$$FastClassBySpringCGLIB$$5578fb67.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 15 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Server shutdown in progress
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor135.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy255.executeQuery(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 37 common frames omitted

2019-02-20 17:01:18.495 ERROR 21400 --- [sourceReindex-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Failed to index resource Observation/SMART-Observation-522-weight/_history/1: org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet

org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:275) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:250) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.dao.dstu3.FhirResourceDaoDstu3$$EnhancerBySpringCGLIB$$9205821c.reindex(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.doReindex(ResourceReindexingSvcImpl.java:462) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.lambda$call$0(ResourceReindexingSvcImpl.java:501) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:419) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:191) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:691) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2286) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:585) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:263) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:581) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:148) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:303) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at java.util.AbstractCollection.addAll(AbstractCollection.java:343) ~[na:1.8.0_171]
	at ca.uhn.fhir.jpa.searchparam.extractor.ResourceIndexedSearchParams.<init>(ResourceIndexedSearchParams.java:60) ~[hapi-fhir-jpaserver-searchparam-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirDao.updateEntity(BaseHapiFhirDao.java:1286) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao.reindex(BaseHapiFhirResourceDao.java:1012) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao$$FastClassBySpringCGLIB$$5578fb67.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 15 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Server shutdown in progress
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor135.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy255.executeQuery(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 37 common frames omitted

2019-02-20 17:01:18.557  WARN 21400 --- [sourceReindex-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1053, SQLState: 08S01
2019-02-20 17:01:18.558 ERROR 21400 --- [sourceReindex-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Server shutdown in progress
2019-02-20 17:01:18.560 ERROR 21400 --- [sourceReindex-8] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Failed to index resource Observation/SMART-Observation-522-temperature/_history/1: org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet

org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:275) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:250) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.dao.dstu3.FhirResourceDaoDstu3$$EnhancerBySpringCGLIB$$9205821c.reindex(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.doReindex(ResourceReindexingSvcImpl.java:462) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.lambda$call$0(ResourceReindexingSvcImpl.java:501) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:419) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:191) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:691) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2286) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:585) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:263) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:581) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:148) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.PersistentBag.toArray(PersistentBag.java:309) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at java.util.ArrayList.addAll(ArrayList.java:581) ~[na:1.8.0_171]
	at ca.uhn.fhir.jpa.searchparam.extractor.ResourceIndexedSearchParams.<init>(ResourceIndexedSearchParams.java:57) ~[hapi-fhir-jpaserver-searchparam-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirDao.updateEntity(BaseHapiFhirDao.java:1286) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao.reindex(BaseHapiFhirResourceDao.java:1012) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao$$FastClassBySpringCGLIB$$5578fb67.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 15 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Server shutdown in progress
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor135.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy255.executeQuery(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 37 common frames omitted

2019-02-20 17:01:18.586  WARN 21400 --- [ourceReindex-32] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2019-02-20 17:01:18.587 ERROR 21400 --- [ourceReindex-32] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2019-02-20 17:01:18.606  WARN 21400 --- [sourceReindex-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1053, SQLState: 08S01
2019-02-20 17:01:18.607 ERROR 21400 --- [sourceReindex-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Server shutdown in progress
2019-02-20 17:01:18.610 ERROR 21400 --- [sourceReindex-1] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Failed to index resource Observation/SMART-Observation-522-heartrate/_history/1: org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet

org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:275) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:250) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.dao.dstu3.FhirResourceDaoDstu3$$EnhancerBySpringCGLIB$$9205821c.reindex(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.doReindex(ResourceReindexingSvcImpl.java:462) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.lambda$call$0(ResourceReindexingSvcImpl.java:501) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: could not extract ResultSet
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:419) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:191) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.loader.collection.plan.AbstractLoadPlanBasedCollectionInitializer.initialize(AbstractLoadPlanBasedCollectionInitializer.java:87) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:691) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2286) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:585) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:263) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:581) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:148) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.collection.internal.PersistentBag.toArray(PersistentBag.java:309) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at java.util.ArrayList.addAll(ArrayList.java:581) ~[na:1.8.0_171]
	at ca.uhn.fhir.jpa.searchparam.extractor.ResourceIndexedSearchParams.<init>(ResourceIndexedSearchParams.java:57) ~[hapi-fhir-jpaserver-searchparam-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirDao.updateEntity(BaseHapiFhirDao.java:1286) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao.reindex(BaseHapiFhirResourceDao.java:1012) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.dao.BaseHapiFhirResourceDao$$FastClassBySpringCGLIB$$5578fb67.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 15 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Server shutdown in progress
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor135.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy255.executeQuery(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 37 common frames omitted

2019-02-20 17:01:18.619 ERROR 21400 --- [ecutorService-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Failure reindexing

java.util.concurrent.ExecutionException: org.springframework.orm.jpa.JpaSystemException: could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_171]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_171]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.runReindexJob(ResourceReindexingSvcImpl.java:338) [hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.runReindexJobs(ResourceReindexingSvcImpl.java:254) [hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.doReindexingPassInsideLock(ResourceReindexingSvcImpl.java:209) [hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.runReindexingPass(ResourceReindexingSvcImpl.java:199) [hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.scheduleReindexingPass(ResourceReindexingSvcImpl.java:188) [hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$$FastClassBySpringCGLIB$$f3ca5ded.invoke(<generated>) [hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) [spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) [spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$$EnhancerBySpringCGLIB$$1c7257d7.scheduleReindexingPass(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_171]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) ~[na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) ~[na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_171]
Caused by: org.springframework.orm.jpa.JpaSystemException: could not execute batch; nested exception is org.hibernate.exception.GenericJDBCException: could not execute batch
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:351) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:152) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_171]
	... 3 common frames omitted
Caused by: org.hibernate.exception.GenericJDBCException: could not execute batch
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:129) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.doExecuteBatch(BatchingBatch.java:105) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.execute(AbstractBatchImpl.java:147) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.getBatch(JdbcCoordinatorImpl.java:201) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3442) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3738) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1484) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:515) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3348) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2519) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:532) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 9 common frames omitted
Caused by: java.sql.SQLException: No operations allowed after statement closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:82) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.clearBatch(ClientPreparedStatement.java:304) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchInternal(ClientPreparedStatement.java:460) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.StatementImpl.executeBatch(StatementImpl.java:814) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor177.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy255.executeBatch(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.batch.internal.BatchingBatch.performExecution(BatchingBatch.java:119) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 29 common frames omitted
Caused by: com.mysql.cj.exceptions.StatementIsClosedException: No operations allowed after statement closed.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:85) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.StatementImpl.checkClosed(StatementImpl.java:358) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ClientPreparedStatement.clearBatch(ClientPreparedStatement.java:299) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 37 common frames omitted

2019-02-20 17:01:18.626 ERROR 21400 --- [ecutorService-4] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task.

org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: 
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:446) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.runReindexJob(ResourceReindexingSvcImpl.java:342) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.runReindexJobs(ResourceReindexingSvcImpl.java:254) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.doReindexingPassInsideLock(ResourceReindexingSvcImpl.java:209) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.runReindexingPass(ResourceReindexingSvcImpl.java:199) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.scheduleReindexingPass(ResourceReindexingSvcImpl.java:188) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$$FastClassBySpringCGLIB$$f3ca5ded.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$$EnhancerBySpringCGLIB$$1c7257d7.scheduleReindexingPass(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]
Caused by: org.hibernate.TransactionException: JDBC begin transaction failed: 
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:73) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:263) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:183) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:401) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 29 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2074) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy99.setAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 34 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor289.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1259) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:575) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2024) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 44 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 5 milliseconds ago.  The last packet sent successfully to the server was 301 milliseconds ago.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:555) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:725) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:664) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:979) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:914) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1150) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.rollbackNoChecks(ConnectionImpl.java:1958) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1855) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy99.rollback(Unknown Source) ~[na:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:116) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:294) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:145) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:559) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:838) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:702) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:152) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_171]
	... 3 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:549) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 30 common frames omitted

2019-02-20 17:01:19.164 ERROR 21400 --- [ecutorService-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task.

org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: 
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:446) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.term.BaseHapiTerminologySvcImpl.processReindexing(BaseHapiTerminologySvcImpl.java:902) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.term.BaseHapiTerminologySvcImpl.saveDeferred(BaseHapiTerminologySvcImpl.java:1024) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at sun.reflect.GeneratedMethodAccessor186.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]
Caused by: org.hibernate.TransactionException: JDBC begin transaction failed: 
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:73) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:263) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:183) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:401) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 16 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2074) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.GeneratedMethodAccessor121.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy99.setAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 21 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor289.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1259) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:575) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2024) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 31 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 5 milliseconds ago.  The last packet sent successfully to the server was 301 milliseconds ago.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:555) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:725) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:664) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:979) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:914) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1150) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.rollbackNoChecks(ConnectionImpl.java:1958) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1855) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at com.sun.proxy.$Proxy99.rollback(Unknown Source) ~[na:na]
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:116) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:294) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:145) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:559) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:838) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:702) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:152) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_171]
	... 3 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:549) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 30 common frames omitted

2019-02-20 17:01:24.161  WARN 21400 --- [ecutorService-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2019-02-20 17:01:24.161 ERROR 21400 --- [ecutorService-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2019-02-20 17:01:24.164 ERROR 21400 --- [ecutorService-5] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task.

org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:446) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.term.BaseHapiTerminologySvcImpl.processReindexing(BaseHapiTerminologySvcImpl.java:902) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.term.BaseHapiTerminologySvcImpl.saveDeferred(BaseHapiTerminologySvcImpl.java:1024) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at sun.reflect.GeneratedMethodAccessor186.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:254) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:262) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:183) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:401) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 16 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:455) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.reconnect(PooledConnection.java:372) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:825) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:655) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:132) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.hibernate.engine.jdbc.connections.spi.AbstractDataSourceBasedMultiTenantConnectionProviderImpl.getConnection(AbstractDataSourceBasedMultiTenantConnectionProviderImpl.java:35) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.ContextualJdbcConnectionAccess.obtainConnection(ContextualJdbcConnectionAccess.java:43) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:106) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 23 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:955) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 36 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_171]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_171]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_171]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 39 common frames omitted

2019-02-20 17:01:24.527  WARN 21400 --- [ecutorService-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2019-02-20 17:01:24.527 ERROR 21400 --- [ecutorService-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2019-02-20 17:01:24.529 ERROR 21400 --- [ecutorService-3] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task.

org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:446) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.StaleSearchDeletingSvcImpl.pollForStaleSearchesAndDeleteThem(StaleSearchDeletingSvcImpl.java:133) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.StaleSearchDeletingSvcImpl.schedulePollForStaleSearches(StaleSearchDeletingSvcImpl.java:162) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.StaleSearchDeletingSvcImpl$$FastClassBySpringCGLIB$$979cdeaa.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.StaleSearchDeletingSvcImpl$$EnhancerBySpringCGLIB$$394db82e.schedulePollForStaleSearches(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at sun.reflect.GeneratedMethodAccessor188.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:254) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:262) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:183) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:401) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 25 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:455) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.reconnect(PooledConnection.java:372) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:825) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:655) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:132) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.hibernate.engine.jdbc.connections.spi.AbstractDataSourceBasedMultiTenantConnectionProviderImpl.getConnection(AbstractDataSourceBasedMultiTenantConnectionProviderImpl.java:35) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.ContextualJdbcConnectionAccess.obtainConnection(ContextualJdbcConnectionAccess.java:43) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:106) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 32 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:955) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 45 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_171]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_171]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_171]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 48 common frames omitted

2019-02-20 17:01:28.632  WARN 21400 --- [ecutorService-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2019-02-20 17:01:28.632 ERROR 21400 --- [ecutorService-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2019-02-20 17:01:28.633 ERROR 21400 --- [ecutorService-2] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task.

org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:446) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.expungeJobsMarkedAsDeleted(ResourceReindexingSvcImpl.java:384) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.doReindexingPassInsideLock(ResourceReindexingSvcImpl.java:208) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.runReindexingPass(ResourceReindexingSvcImpl.java:199) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl.scheduleReindexingPass(ResourceReindexingSvcImpl.java:188) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$$FastClassBySpringCGLIB$$f3ca5ded.invoke(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$$EnhancerBySpringCGLIB$$1c7257d7.scheduleReindexingPass(<generated>) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:254) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:262) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:183) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:401) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 28 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:455) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.reconnect(PooledConnection.java:372) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:825) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:655) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:132) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.hibernate.engine.jdbc.connections.spi.AbstractDataSourceBasedMultiTenantConnectionProviderImpl.getConnection(AbstractDataSourceBasedMultiTenantConnectionProviderImpl.java:35) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.ContextualJdbcConnectionAccess.obtainConnection(ContextualJdbcConnectionAccess.java:43) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:106) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 35 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:955) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 48 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_171]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_171]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_171]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 51 common frames omitted

2019-02-20 17:01:29.156  WARN 21400 --- [ecutorService-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01
2019-02-20 17:01:29.156 ERROR 21400 --- [ecutorService-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2019-02-20 17:01:29.159 ERROR 21400 --- [ecutorService-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task.

org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:446) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.term.BaseHapiTerminologySvcImpl.processReindexing(BaseHapiTerminologySvcImpl.java:902) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.term.BaseHapiTerminologySvcImpl.saveDeferred(BaseHapiTerminologySvcImpl.java:1024) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at sun.reflect.GeneratedMethodAccessor186.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_171]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:254) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:262) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:183) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:401) ~[spring-orm-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	... 16 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:835) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:455) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:240) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:207) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.reconnect(PooledConnection.java:372) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:825) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:655) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:132) ~[tomcat-jdbc-9.0.13.jar!/:na]
	at org.hibernate.engine.jdbc.connections.spi.AbstractDataSourceBasedMultiTenantConnectionProviderImpl.getConnection(AbstractDataSourceBasedMultiTenantConnectionProviderImpl.java:35) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.internal.ContextualJdbcConnectionAccess.obtainConnection(ContextualJdbcConnectionAccess.java:43) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:106) ~[hibernate-core-5.4.1.Final.jar!/:5.4.1.Final]
	... 23 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_171]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_171]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_171]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_171]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.NativeSession.connect(NativeSession.java:152) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:955) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 36 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_171]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_171]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_171]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_171]
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.13.jar!/:8.0.13]
	... 39 common frames omitted

2019-02-20 17:01:38.648  INFO 21400 --- [ecutorService-2] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Running 1 reindex jobs: [ResourceReindexJobEntity[id=1,resourceType=<null>,thresholdLow=<null>,thresholdHigh=2019-02-20 17:03:26.951]]
2019-02-20 17:01:38.649  INFO 21400 --- [ecutorService-2] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Performing reindex pass for JOB[1]
2019-02-20 17:01:38.655  INFO 21400 --- [ecutorService-2] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 6ms
2019-02-20 17:01:38.753  INFO 21400 --- [ecutorService-2] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Loaded 16677 resources for reindexing in 98ms
2019-02-20 17:05:17.713 ERROR 21400 --- [ourceReindex-69] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Failed to index resource Observation/BILIBABY-OBS2/_history/1: ca.uhn.fhir.rest.server.exceptions.InternalErrorException: Could not find resource version Observation/BILIBABY-OBS2/_history/1 in database

ca.uhn.fhir.rest.server.exceptions.InternalErrorException: Could not find resource version Observation/BILIBABY-OBS2/_history/1 in database
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.lambda$call$0(ResourceReindexingSvcImpl.java:492) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:471) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at ca.uhn.fhir.jpa.search.reindex.ResourceReindexingSvcImpl$ResourceReindexingTask.call(ResourceReindexingSvcImpl.java:446) ~[hapi-fhir-jpaserver-base-3.7.0.jar!/:na]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_171]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_171]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_171]

2019-02-20 17:05:17.715  INFO 21400 --- [ourceReindex-69] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Setting resource PID[16753] status to ERRORED
2019-02-20 17:05:17.717  INFO 21400 --- [ourceReindex-69] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Marking resource with PID 16753 as indexing_failed
2019-02-20 17:05:17.801  WARN 21400 --- [ourceReindex-66] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Resource Observation/16752 version 2 does not exist, renumbering version 3
2019-02-20 17:05:17.809  INFO 21400 --- [ourceReindex-66] c.u.f.n.BaseThymeleafNarrativeGenerator  : Initializing narrative generator
2019-02-20 17:05:19.178  INFO 21400 --- [ourceReindex-70] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Storing TermConceptMap ConceptMap/16952/_history/1
2019-02-20 17:05:19.186  INFO 21400 --- [ourceReindex-70] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Deleting existing TermConceptMap 1 and its children...
2019-02-20 17:05:19.206  INFO 21400 --- [ourceReindex-70] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Done deleting existing TermConceptMap 1 and its children.
2019-02-20 17:05:19.206  INFO 21400 --- [ourceReindex-70] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Flushing...
2019-02-20 17:05:19.221  INFO 21400 --- [ourceReindex-70] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Done flushing.
2019-02-20 17:05:19.247  INFO 21400 --- [ourceReindex-70] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Have saved 1 codes in conceptmap
2019-02-20 17:05:19.250  INFO 21400 --- [ourceReindex-70] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Done storing TermConceptMap.
2019-02-20 17:05:19.323  INFO 21400 --- [ecutorService-2] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Completed pass of reindex JOB[1] - Indexed 16677 resources in 00:03:40 (75.6 / sec) - Have indexed until: Wed Feb 20 13:48:00 MST 2019
2019-02-20 17:05:29.330  INFO 21400 --- [ecutorService-5] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Running 1 reindex jobs: [ResourceReindexJobEntity[id=1,resourceType=<null>,thresholdLow=2019-02-20 13:48:00.0,thresholdHigh=2019-02-20 17:03:26.951]]
2019-02-20 17:05:29.330  INFO 21400 --- [ecutorService-5] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Performing reindex pass for JOB[1]
2019-02-20 17:05:29.406  INFO 21400 --- [ecutorService-5] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Loaded 1 resources for reindexing in 76ms
2019-02-20 17:05:29.416  INFO 21400 --- [ourceReindex-74] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Storing TermConceptMap ConceptMap/16952/_history/1
2019-02-20 17:05:29.417  INFO 21400 --- [ourceReindex-74] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Deleting existing TermConceptMap 52 and its children...
2019-02-20 17:05:29.446  INFO 21400 --- [ourceReindex-74] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Done deleting existing TermConceptMap 52 and its children.
2019-02-20 17:05:29.446  INFO 21400 --- [ourceReindex-74] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Flushing...
2019-02-20 17:05:29.446  INFO 21400 --- [ourceReindex-74] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Done flushing.
2019-02-20 17:05:29.449  INFO 21400 --- [ourceReindex-74] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Have saved 1 codes in conceptmap
2019-02-20 17:05:29.453  INFO 21400 --- [ourceReindex-74] c.u.f.j.term.BaseHapiTerminologySvcImpl  : Done storing TermConceptMap.
2019-02-20 17:05:29.529  INFO 21400 --- [ecutorService-5] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Completed pass of reindex JOB[1] - Indexed 1 resources in 199ms (5.0 / sec) - Have indexed until: Wed Feb 20 13:48:00 MST 2019
2019-02-20 17:05:39.534  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Running 1 reindex jobs: [ResourceReindexJobEntity[id=1,resourceType=<null>,thresholdLow=2019-02-20 13:48:00.001,thresholdHigh=2019-02-20 17:03:26.951]]
2019-02-20 17:05:39.534  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Performing reindex pass for JOB[1]
2019-02-20 17:05:39.536  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Loaded 0 resources for reindexing in 2ms
2019-02-20 17:05:39.536  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Marking reindexing job ID[1] as deleted
2019-02-20 17:05:49.543  INFO 21400 --- [ecutorService-1] c.u.f.j.s.r.ResourceReindexingSvcImpl    : Purging deleted job[1]
2019-02-20 18:12:37.149  INFO 21400 --- [ecutorService-3] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 9ms
2019-02-20 21:37:58.786  INFO 21400 --- [ecutorService-5] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 4ms
2019-02-20 23:44:40.012  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 5ms
2019-02-21 01:44:54.017  INFO 21400 --- [ecutorService-4] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 787ms
2019-02-21 03:45:09.725  INFO 21400 --- [ecutorService-5] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 659ms
2019-02-21 05:45:24.094  INFO 21400 --- [ecutorService-1] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 660ms
2019-02-21 07:42:21.032  INFO 21400 --- [ecutorService-1] c.u.f.j.s.r.BaseSearchParamRegistry      : Refreshed search parameter cache in 19ms
